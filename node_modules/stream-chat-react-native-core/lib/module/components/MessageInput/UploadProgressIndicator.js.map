{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ThemeContext","_icons","_utils","_this","_jsxFileName","REFRESH_ICON_SIZE","UploadProgressIndicator","props","action","children","style","type","_useTheme","useTheme","_useTheme$theme","theme","overlayColor","colors","overlay","container","messageInput","uploadProgressIndicator","ProgressIndicatorTypes","INACTIVE","createElement","View","styles","overflowHidden","testID","__self","__source","fileName","lineNumber","columnNumber","NOT_SUPPORTED","backgroundColor","IN_PROGRESS","InProgressIndicator","RETRY","RetryIndicator","exports","_useTheme2","_useTheme2$theme","white_smoke","indicatorColor","activityIndicatorContainer","ActivityIndicator","color","_ref","_useTheme3","_useTheme3$theme","TouchableOpacity","onPress","retryButtonContainer","Refresh","height","pathFill","width","StyleSheet","create","alignItems","bottom","justifyContent","left","position","right","top","overflow","opacity","displayName"],"sources":["UploadProgressIndicator.tsx"],"sourcesContent":["import React, { PropsWithChildren } from 'react';\nimport {\n  ActivityIndicator,\n  GestureResponderEvent,\n  StyleProp,\n  StyleSheet,\n  TouchableOpacity,\n  View,\n  ViewStyle,\n} from 'react-native';\n\nimport { useTheme } from '../../contexts/themeContext/ThemeContext';\nimport { Refresh } from '../../icons';\nimport { ProgressIndicatorTypes } from '../../utils/utils';\n\nconst REFRESH_ICON_SIZE = 18;\n\nexport type UploadProgressIndicatorProps = {\n  /** Action triggered when clicked indicator */\n  action?: (event: GestureResponderEvent) => void;\n  /** style */\n  style?: StyleProp<ViewStyle>;\n  /** Type of active indicator */\n  type?: 'in_progress' | 'retry' | 'not_supported' | 'inactive' | null;\n};\n\nexport const UploadProgressIndicator = (props: PropsWithChildren<UploadProgressIndicatorProps>) => {\n  const { action, children, style, type } = props;\n\n  const {\n    theme: {\n      colors: { overlay: overlayColor },\n      messageInput: {\n        uploadProgressIndicator: { container },\n      },\n    },\n  } = useTheme();\n\n  return type === ProgressIndicatorTypes.INACTIVE ? (\n    <View style={[styles.overflowHidden, style]} testID='inactive-upload-progress-indicator'>\n      {children}\n    </View>\n  ) : (\n    <View style={[styles.overflowHidden, style]} testID='active-upload-progress-indicator'>\n      {children}\n      <View\n        style={[\n          type === ProgressIndicatorTypes.NOT_SUPPORTED ? styles.overflowHidden : styles.container,\n          { backgroundColor: overlayColor },\n          container,\n        ]}\n        testID='not-supported-upload-progress-indicator'\n      >\n        {type === ProgressIndicatorTypes.IN_PROGRESS && <InProgressIndicator />}\n        {type === ProgressIndicatorTypes.RETRY && <RetryIndicator action={action} />}\n      </View>\n    </View>\n  );\n};\n\nconst InProgressIndicator = () => {\n  const {\n    theme: {\n      colors: { white_smoke },\n      messageInput: {\n        uploadProgressIndicator: { indicatorColor },\n      },\n    },\n  } = useTheme();\n\n  return (\n    <View style={styles.activityIndicatorContainer}>\n      <ActivityIndicator color={indicatorColor || white_smoke} testID='upload-progress-indicator' />\n    </View>\n  );\n};\n\nconst RetryIndicator = ({ action }: Pick<UploadProgressIndicatorProps, 'action'>) => {\n  const {\n    theme: {\n      colors: { white_smoke },\n      messageInput: {\n        uploadProgressIndicator: { indicatorColor },\n      },\n    },\n  } = useTheme();\n\n  return (\n    <TouchableOpacity onPress={action} style={styles.retryButtonContainer}>\n      <Refresh\n        height={REFRESH_ICON_SIZE}\n        pathFill={indicatorColor || white_smoke}\n        testID='retry-upload-progress-indicator'\n        width={REFRESH_ICON_SIZE}\n      />\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  activityIndicatorContainer: {\n    alignItems: 'center',\n    bottom: 0,\n    justifyContent: 'center',\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n  container: {\n    alignItems: 'center',\n    height: '100%',\n    justifyContent: 'center',\n    position: 'absolute',\n    width: '100%',\n  },\n  overflowHidden: {\n    overflow: 'hidden',\n  },\n  overlay: {\n    alignItems: 'center',\n    height: '100%',\n    justifyContent: 'center',\n    opacity: 0,\n    position: 'absolute',\n    width: '100%',\n  },\n  retryButtonContainer: {\n    alignItems: 'center',\n    bottom: 0,\n    justifyContent: 'center',\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n});\n\nUploadProgressIndicator.displayName =\n  'UploadProgressIndicator{messageInput{uploadProgressIndicator}}';\n"],"mappings":"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"}