{"version":3,"names":["_parseLinks","require","describe","it","each","undefined","link","expected","_result$","result","parseLinksFromText","expect","url","toBe","input","toEqual","raw","email","toHaveLength"],"sources":["parseLinks.test.ts"],"sourcesContent":["import { parseLinksFromText } from './parseLinks';\n\ndescribe('parseLinksFromText', () => {\n  it.each([\n    ['https://www.getstream.io', 'https://www.getstream.io'],\n    ['https://getstream.io', 'https://getstream.io'],\n    ['scrn://team-chat', undefined],\n    ['https://localhost', 'https://localhost'],\n    [\n      'https://localhost/with/path?and=query&multiple=params',\n      'https://localhost/with/path?and=query&multiple=params',\n    ],\n    [\n      'https://localhost/with/path?and=query#fragment',\n      'https://localhost/with/path?and=query#fragment',\n    ],\n    ['reactnative.dev', 'http://reactnative.dev'],\n    ['hinge.health/schedule-with-a-coach', 'http://hinge.health/schedule-with-a-coach'],\n    ['https://zh.wikipedia.org/wiki/æŒªå¨ç‰›æ²¹å±æ©Ÿ', 'https://zh.wikipedia.org/wiki/æŒªå¨ç‰›æ²¹å±æ©Ÿ'],\n    [\n      'https://getstream.io/chat/docs/react-native/?language=javascript',\n      'https://getstream.io/chat/docs/react-native/?language=javascript',\n    ],\n    ['127.0.0.1/local_(development)_server', undefined],\n    ['https://a.co:8999/ab.php?p=12', 'https://a.co:8999/ab.php?p=12'],\n    [\n      'https://help.apple.com/xcode/mac/current/#/devba7f53ad4',\n      'https://help.apple.com/xcode/mac/current/#/devba7f53ad4',\n    ],\n    ['[google.com](https://www.google.com)', undefined],\n    ['[https://www.google.com](https://www.google.com)', undefined],\n    ['[abc]()', undefined],\n    ['[](https://www.google.com)', undefined],\n  ])('Returns the encoded value of %p as %p', (link, expected) => {\n    const result = parseLinksFromText(link);\n    expect(result[0]?.url).toBe(expected);\n  });\n  it('parses fqdn', () => {\n    const input = `We have put the apim bol,\n  temporarily so :sj: we can later put the monitors on my grasp\n  on reality right now is\n  https://www.contrived-example.com:8080/sub/page.php?p1=1ðŸ‡³ðŸ‡´&p2=2#fragment-identifier\n  :)`;\n    const result = parseLinksFromText(input);\n    expect(result).toEqual([\n      {\n        raw: 'https://www.contrived-example.com:8080/sub/page.php?p1=1ðŸ‡³ðŸ‡´&p2=2#fragment-identifier',\n        url: 'https://www.contrived-example.com:8080/sub/page.php?p1=1ðŸ‡³ðŸ‡´&p2=2#fragment-identifier',\n      },\n    ]);\n  });\n  it.each([\n    ['support+rn@getstream.io'],\n    ['support.rn@getstream.io'],\n    ['support-rn@getstream.io'],\n    ['support_rn@getstream.io'],\n  ])('Can parse the email address %p', (email) => {\n    const result = parseLinksFromText(email);\n    expect(result[0].url).toBe('mailto:' + email);\n    expect(result[0].raw).toBe(email);\n  });\n  it(\"doesn't double the mailto prefix\", () => {\n    const input = 'mailto:support@getstream.io';\n    const result = parseLinksFromText(input);\n    expect(result[0]).toEqual({\n      raw: input,\n      url: input,\n    });\n  });\n  it('Does not falsely parse LINKs from text content', () => {\n    const input = `#This string exists to test that we don't produce false positives\n  Existing links:\n  [already a parsed link](https://getstream.io/blog/react-native-how-to-build-bidirectional-infinite-scroll/)\n  [even a bogus one]( should not match )\n  ## These should, however, be parsed:\n  www.getstream.io\n  getstream.io\n  `;\n    const result = parseLinksFromText(input);\n    expect(result).toHaveLength(2);\n  });\n  it('Encodes incomplete emoji unicode', () => {\n    const input = 'https://getstream.io/ï¿½';\n    const result = parseLinksFromText(input);\n    expect(result[0]).toEqual({\n      raw: input,\n      url: 'https://getstream.io/ï¿½',\n    });\n  });\n});\n"],"mappings":"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"}