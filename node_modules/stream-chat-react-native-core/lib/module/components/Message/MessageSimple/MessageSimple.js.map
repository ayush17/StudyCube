{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_MessageContext","_MessagesContext","_ThemeContext","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","styles","StyleSheet","create","container","alignItems","flexDirection","MessageSimpleWithContext","props","_channel$state$messag","alignment","channel","enableMessageGroupingByUser","groupStyles","hasReactions","message","MessageAvatar","MessageContent","MessagePinnedHeader","ReactionList","_useTheme","useTheme","theme","messageSimple","_useState","useState","_useState2","_slicedToArray2","messageContentWidth","setMessageContentWidth","isVeryLastMessage","state","messages","length","id","hasMarginBottom","includes","showReactions","createElement","Fragment","pinned","__self","__source","fileName","lineNumber","columnNumber","View","style","justifyContent","marginBottom","marginTop","testID","areEqual","prevProps","nextProps","_prevMessage$quoted_m","_nextMessage$quoted_m","_prevMessage$quoted_m2","_nextMessage$quoted_m2","prevChannel","prevDisabled","disabled","prevGroupStyles","prevHasReactions","prevMessage","prevMyMessageTheme","myMessageTheme","nextChannel","nextDisabled","nextGroupStyles","nextHasReactions","nextMessage","nextMyMessageTheme","disabledEqual","hasReactionsEqual","repliesEqual","reply_count","groupStylesEqual","JSON","stringify","isPrevMessageTypeDeleted","type","isNextMessageTypeDeleted","messageEqual","status","text","isPrevQuotedMessageTypeDeleted","quoted_message","isNextQuotedMessageTypeDeleted","quotedMessageEqual","channelEqual","prevMessageAttachments","attachments","nextMessageAttachments","attachmentsEqual","Array","isArray","every","attachment","index","attachmentKeysEqual","image_url","og_scrape_url","thumb_url","latestReactionsEqual","latest_reactions","_ref","_nextMessage$latest_r","messageThemeEqual","MemoizedMessageSimple","React","memo","MessageSimple","_useMessageContext","useMessageContext","_useMessagesContext","useMessagesContext","_extends2","exports","displayName"],"sources":["MessageSimple.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nimport {\n  MessageContextValue,\n  useMessageContext,\n} from '../../../contexts/messageContext/MessageContext';\nimport {\n  MessagesContextValue,\n  useMessagesContext,\n} from '../../../contexts/messagesContext/MessagesContext';\nimport { useTheme } from '../../../contexts/themeContext/ThemeContext';\n\nimport type { DefaultStreamChatGenerics } from '../../../types/types';\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'flex-end',\n    flexDirection: 'row',\n  },\n});\n\nexport type MessageSimplePropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Pick<\n  MessageContextValue<StreamChatGenerics>,\n  'alignment' | 'channel' | 'disabled' | 'groupStyles' | 'hasReactions' | 'message'\n> &\n  Pick<\n    MessagesContextValue<StreamChatGenerics>,\n    | 'enableMessageGroupingByUser'\n    | 'myMessageTheme'\n    | 'MessageAvatar'\n    | 'MessageContent'\n    | 'MessagePinnedHeader'\n    | 'ReactionList'\n  >;\n\nconst MessageSimpleWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: MessageSimplePropsWithContext<StreamChatGenerics>,\n) => {\n  const {\n    alignment,\n    channel,\n    enableMessageGroupingByUser,\n    groupStyles,\n    hasReactions,\n    message,\n    MessageAvatar,\n    MessageContent,\n    MessagePinnedHeader,\n    ReactionList,\n  } = props;\n\n  const {\n    theme: {\n      messageSimple: { container },\n    },\n  } = useTheme();\n\n  const [messageContentWidth, setMessageContentWidth] = useState(0);\n\n  const isVeryLastMessage =\n    channel?.state.messages[channel?.state.messages.length - 1]?.id === message.id;\n\n  const hasMarginBottom = groupStyles.includes('single') || groupStyles.includes('bottom');\n\n  const showReactions = hasReactions && ReactionList;\n\n  return (\n    <>\n      {message.pinned && <MessagePinnedHeader />}\n      <View\n        style={[\n          styles.container,\n          {\n            justifyContent: alignment === 'left' ? 'flex-start' : 'flex-end',\n            marginBottom: hasMarginBottom\n              ? isVeryLastMessage && enableMessageGroupingByUser\n                ? 30\n                : 8\n              : 0,\n            marginTop: showReactions ? 2 : 0,\n          },\n          container,\n        ]}\n        testID='message-simple-wrapper'\n      >\n        {alignment === 'left' && <MessageAvatar />}\n        <MessageContent setMessageContentWidth={setMessageContentWidth} />\n        {showReactions && <ReactionList messageContentWidth={messageContentWidth} />}\n      </View>\n    </>\n  );\n};\n\nconst areEqual = <StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics>(\n  prevProps: MessageSimplePropsWithContext<StreamChatGenerics>,\n  nextProps: MessageSimplePropsWithContext<StreamChatGenerics>,\n) => {\n  const {\n    channel: prevChannel,\n    disabled: prevDisabled,\n    groupStyles: prevGroupStyles,\n    hasReactions: prevHasReactions,\n    message: prevMessage,\n    myMessageTheme: prevMyMessageTheme,\n  } = prevProps;\n  const {\n    channel: nextChannel,\n    disabled: nextDisabled,\n    groupStyles: nextGroupStyles,\n    hasReactions: nextHasReactions,\n    message: nextMessage,\n    myMessageTheme: nextMyMessageTheme,\n  } = nextProps;\n\n  const disabledEqual = prevDisabled === nextDisabled;\n  if (!disabledEqual) return false;\n\n  const hasReactionsEqual = prevHasReactions === nextHasReactions;\n  if (!hasReactionsEqual) return false;\n\n  const repliesEqual = prevMessage.reply_count === nextMessage.reply_count;\n  if (!repliesEqual) return false;\n\n  const groupStylesEqual = JSON.stringify(prevGroupStyles) === JSON.stringify(nextGroupStyles);\n  if (!groupStylesEqual) return false;\n\n  const isPrevMessageTypeDeleted = prevMessage.type === 'deleted';\n  const isNextMessageTypeDeleted = nextMessage.type === 'deleted';\n\n  const messageEqual =\n    isPrevMessageTypeDeleted === isNextMessageTypeDeleted &&\n    prevMessage.status === nextMessage.status &&\n    prevMessage.type === nextMessage.type &&\n    prevMessage.text === nextMessage.text &&\n    prevMessage.pinned === nextMessage.pinned;\n  if (!messageEqual) return false;\n\n  const isPrevQuotedMessageTypeDeleted = prevMessage.quoted_message?.type === 'deleted';\n  const isNextQuotedMessageTypeDeleted = nextMessage.quoted_message?.type === 'deleted';\n\n  const quotedMessageEqual =\n    prevMessage.quoted_message?.id === nextMessage.quoted_message?.id &&\n    isPrevQuotedMessageTypeDeleted === isNextQuotedMessageTypeDeleted;\n\n  if (!quotedMessageEqual) return false;\n\n  const channelEqual = prevChannel?.state.messages.length === nextChannel?.state.messages.length;\n  if (!channelEqual) return false;\n\n  const prevMessageAttachments = prevMessage.attachments;\n  const nextMessageAttachments = nextMessage.attachments;\n  const attachmentsEqual =\n    Array.isArray(prevMessageAttachments) && Array.isArray(nextMessageAttachments)\n      ? prevMessageAttachments.length === nextMessageAttachments.length &&\n        prevMessageAttachments.every((attachment, index) => {\n          const attachmentKeysEqual =\n            attachment.image_url === nextMessageAttachments[index].image_url &&\n            attachment.og_scrape_url === nextMessageAttachments[index].og_scrape_url &&\n            attachment.thumb_url === nextMessageAttachments[index].thumb_url;\n\n          return attachmentKeysEqual;\n        })\n      : prevMessageAttachments === nextMessageAttachments;\n  if (!attachmentsEqual) return false;\n\n  const latestReactionsEqual =\n    Array.isArray(prevMessage.latest_reactions) && Array.isArray(nextMessage.latest_reactions)\n      ? prevMessage.latest_reactions.length === nextMessage.latest_reactions.length &&\n        prevMessage.latest_reactions.every(\n          ({ type }, index) => type === nextMessage.latest_reactions?.[index].type,\n        )\n      : prevMessage.latest_reactions === nextMessage.latest_reactions;\n  if (!latestReactionsEqual) return false;\n\n  const messageThemeEqual =\n    JSON.stringify(prevMyMessageTheme) === JSON.stringify(nextMyMessageTheme);\n  if (!messageThemeEqual) return false;\n\n  return true;\n};\n\nconst MemoizedMessageSimple = React.memo(\n  MessageSimpleWithContext,\n  areEqual,\n) as typeof MessageSimpleWithContext;\n\nexport type MessageSimpleProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<MessageSimplePropsWithContext<StreamChatGenerics>>;\n\n/**\n *\n * Message UI component\n */\nexport const MessageSimple = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: MessageSimpleProps<StreamChatGenerics>,\n) => {\n  const { alignment, channel, disabled, groupStyles, hasReactions, message } =\n    useMessageContext<StreamChatGenerics>();\n  const {\n    enableMessageGroupingByUser,\n    MessageAvatar,\n    MessageContent,\n    MessagePinnedHeader,\n    myMessageTheme,\n    ReactionList,\n  } = useMessagesContext<StreamChatGenerics>();\n\n  return (\n    <MemoizedMessageSimple<StreamChatGenerics>\n      {...{\n        alignment,\n        channel,\n        disabled,\n        enableMessageGroupingByUser,\n        groupStyles,\n        hasReactions,\n        message,\n        MessageAvatar,\n        MessageContent,\n        MessagePinnedHeader,\n        myMessageTheme,\n        ReactionList,\n      }}\n      {...props}\n    />\n  );\n};\n\nMessageSimple.displayName = 'MessageSimple{messageSimple{container}}';\n"],"mappings":"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"}