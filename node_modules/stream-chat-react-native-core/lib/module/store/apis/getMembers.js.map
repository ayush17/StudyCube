{"version":3,"names":["_selectMembersForChannels","require","_mapStorableToMember","_QuickSqliteClient","getMembers","_ref","channelIds","QuickSqliteClient","logger","memberRows","selectMembersForChannels","cidVsMembers","forEach","member","cid","push","mapStorableToMember","exports"],"sources":["getMembers.ts"],"sourcesContent":["import type { ChannelMemberResponse } from 'stream-chat';\n\nimport { selectMembersForChannels } from './queries/selectMembersForChannels';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\nimport { mapStorableToMember } from '../mappers/mapStorableToMember';\nimport { QuickSqliteClient } from '../QuickSqliteClient';\n\nexport const getMembers = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  channelIds,\n}: {\n  channelIds: string[];\n}) => {\n  QuickSqliteClient.logger?.('info', 'getMembers', { channelIds });\n  const memberRows = selectMembersForChannels(channelIds);\n  const cidVsMembers: Record<string, ChannelMemberResponse<StreamChatGenerics>[]> = {};\n  memberRows.forEach((member) => {\n    if (!cidVsMembers[member.cid]) {\n      cidVsMembers[member.cid] = [];\n    }\n\n    cidVsMembers[member.cid].push(mapStorableToMember<StreamChatGenerics>(member));\n  });\n\n  return cidVsMembers;\n};\n"],"mappings":";;;;AAEA,IAAAA,yBAAA,GAAAC,OAAA;AAGA,IAAAC,oBAAA,GAAAD,OAAA;AACA,IAAAE,kBAAA,GAAAF,OAAA;AAEO,IAAMG,UAAU,GAAG,SAAbA,UAAUA,CAAAC,IAAA,EAMjB;EAAA,IAHJC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAIVC,oCAAiB,CAACC,MAAM,oBAAxBD,oCAAiB,CAACC,MAAM,CAAG,MAAM,EAAE,YAAY,EAAE;IAAEF,UAAU,EAAVA;EAAW,CAAC,CAAC;EAChE,IAAMG,UAAU,GAAG,IAAAC,kDAAwB,EAACJ,UAAU,CAAC;EACvD,IAAMK,YAAyE,GAAG,CAAC,CAAC;EACpFF,UAAU,CAACG,OAAO,CAAC,UAACC,MAAM,EAAK;IAC7B,IAAI,CAACF,YAAY,CAACE,MAAM,CAACC,GAAG,CAAC,EAAE;MAC7BH,YAAY,CAACE,MAAM,CAACC,GAAG,CAAC,GAAG,EAAE;IAC/B;IAEAH,YAAY,CAACE,MAAM,CAACC,GAAG,CAAC,CAACC,IAAI,CAAC,IAAAC,wCAAmB,EAAqBH,MAAM,CAAC,CAAC;EAChF,CAAC,CAAC;EAEF,OAAOF,YAAY;AACrB,CAAC;AAACM,OAAA,CAAAb,UAAA,GAAAA,UAAA"}