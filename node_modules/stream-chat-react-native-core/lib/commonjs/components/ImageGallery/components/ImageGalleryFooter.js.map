{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_ImageGalleryVideoControl","_ThemeContext","_TranslationContext","_icons","_native","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ReanimatedSafeAreaView","Animated","createAnimatedComponent","SafeAreaView","styles","StyleSheet","create","centerContainer","alignItems","flex","justifyContent","imageCountText","fontSize","fontWeight","innerContainer","flexDirection","height","leftContainer","marginLeft","rightContainer","marginRight","wrapper","bottom","left","position","right","ImageGalleryFooterWithContext","props","accessibilityLabel","centerElement","duration","GridIcon","leftElement","onPlayPause","opacity","openGridView","paused","photo","photoLength","progress","rightElement","selectedIndex","ShareIcon","videoControlElement","videoRef","visible","_useState","useState","_useState2","_slicedToArray2","setHeight","_useState3","_useState4","shareMenuOpen","setShareMenuOpen","_useTheme","useTheme","_useTheme$theme","theme","_useTheme$theme$color","colors","black","white","_useTheme$theme$image","imageGallery","footer","container","_useTranslationContex","useTranslationContext","t","footerStyle","useAnimatedStyle","value","transform","translateY","interpolate","Extrapolate","CLAMP","share","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_photo$mime_type","_photo$user","extension","localFile","wrap","_callee$","_context","prev","next","mime_type","split","saveFile","fileName","user","id","messageId","fromUrl","uri","sent","shareImage","type","url","deleteFile","t0","console","log","stop","apply","arguments","createElement","View","onLayout","event","nativeEvent","layout","pointerEvents","style","__self","__source","lineNumber","columnNumber","backgroundColor","ImageGalleryVideoControl","ShareButton","Text","color","index","TouchableOpacity","onPress","Grid","exports","_ref2","_useTheme2","_useTheme2$theme","disabled","Share","pathFill","areEqual","prevProps","nextProps","prevDuration","prevPaused","prevProgress","prevSelectedIndex","nextDuration","nextPaused","nextProgress","nextSelectedIndex","isDurationEqual","isPausedEqual","isProgressEqual","isSelectedIndexEqual","MemoizedImageGalleryFooter","React","memo","ImageGalleryFooter","_extends2","displayName"],"sources":["ImageGalleryFooter.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { SafeAreaView, StyleSheet, Text, TouchableOpacity, View, ViewStyle } from 'react-native';\nimport Animated, { Extrapolate, interpolate, useAnimatedStyle } from 'react-native-reanimated';\n\nimport { ImageGalleryVideoControl } from './ImageGalleryVideoControl';\n\nimport { useTheme } from '../../../contexts/themeContext/ThemeContext';\nimport { useTranslationContext } from '../../../contexts/translationContext/TranslationContext';\nimport { Grid as GridIconDefault, Share as ShareIconDefault } from '../../../icons';\nimport { deleteFile, saveFile, shareImage, VideoType } from '../../../native';\n\nimport type { DefaultStreamChatGenerics } from '../../../types/types';\nimport type { Photo } from '../ImageGallery';\n\nconst ReanimatedSafeAreaView = Animated.createAnimatedComponent\n  ? Animated.createAnimatedComponent(SafeAreaView)\n  : SafeAreaView;\n\nconst styles = StyleSheet.create({\n  centerContainer: {\n    alignItems: 'center',\n    flex: 1,\n    justifyContent: 'center',\n  },\n  imageCountText: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  innerContainer: {\n    flexDirection: 'row',\n    height: 56,\n  },\n  leftContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    marginLeft: 8,\n  },\n  rightContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    marginRight: 8,\n  },\n  wrapper: {\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    right: 0,\n  },\n});\n\nexport type ImageGalleryFooterCustomComponent<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = ({\n  openGridView,\n  photo,\n  share,\n  shareMenuOpen,\n}: {\n  openGridView: () => void;\n  share: () => Promise<void>;\n  shareMenuOpen: boolean;\n  photo?: Photo<StreamChatGenerics>;\n}) => React.ReactElement | null;\n\nexport type ImageGalleryFooterVideoControlProps = {\n  duration: number;\n  onPlayPause: (status?: boolean) => void;\n  paused: boolean;\n  progress: number;\n  videoRef: React.RefObject<VideoType>;\n};\n\nexport type ImageGalleryFooterVideoControlComponent = ({\n  duration,\n  onPlayPause,\n  paused,\n  progress,\n}: ImageGalleryFooterVideoControlProps) => React.ReactElement | null;\n\nexport type ImageGalleryFooterCustomComponentProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = {\n  centerElement?: ImageGalleryFooterCustomComponent<StreamChatGenerics>;\n  GridIcon?: React.ReactElement;\n  leftElement?: ImageGalleryFooterCustomComponent<StreamChatGenerics>;\n  rightElement?: ImageGalleryFooterCustomComponent<StreamChatGenerics>;\n  ShareIcon?: React.ReactElement;\n  videoControlElement?: ImageGalleryFooterVideoControlComponent;\n};\n\ntype ImageGalleryFooterPropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = ImageGalleryFooterCustomComponentProps<StreamChatGenerics> & {\n  accessibilityLabel: string;\n  duration: number;\n  onPlayPause: () => void;\n  opacity: Animated.SharedValue<number>;\n  openGridView: () => void;\n  paused: boolean;\n  photo: Photo<StreamChatGenerics>;\n  photoLength: number;\n  progress: number;\n  selectedIndex: number;\n  videoRef: React.RefObject<VideoType>;\n  visible: Animated.SharedValue<number>;\n};\n\nexport const ImageGalleryFooterWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: ImageGalleryFooterPropsWithContext<StreamChatGenerics>,\n) => {\n  const {\n    accessibilityLabel,\n    centerElement,\n    duration,\n    GridIcon,\n    leftElement,\n    onPlayPause,\n    opacity,\n    openGridView,\n    paused,\n    photo,\n    photoLength,\n    progress,\n    rightElement,\n    selectedIndex,\n    ShareIcon,\n    videoControlElement,\n    videoRef,\n    visible,\n  } = props;\n\n  const [height, setHeight] = useState(200);\n  const [shareMenuOpen, setShareMenuOpen] = useState(false);\n  const {\n    theme: {\n      colors: { black, white },\n      imageGallery: {\n        footer: { centerContainer, container, imageCountText, innerContainer, rightContainer },\n      },\n    },\n  } = useTheme();\n  const { t } = useTranslationContext();\n\n  const footerStyle = useAnimatedStyle<ViewStyle>(\n    () => ({\n      opacity: opacity.value,\n      transform: [\n        {\n          translateY: interpolate(visible.value, [0, 1], [height, 0], Extrapolate.CLAMP),\n        },\n      ],\n    }),\n    [height],\n  );\n\n  const share = async () => {\n    setShareMenuOpen(true);\n    try {\n      const extension = photo.mime_type?.split('/')[1] || 'jpg';\n      const localFile = await saveFile({\n        fileName: `${photo.user?.id || 'ChatPhoto'}-${\n          photo.messageId\n        }-${selectedIndex}.${extension}`,\n        fromUrl: photo.uri,\n      });\n      // `image/jpeg` is added for the case where the mime_type isn't available for a file/image\n      await shareImage({ type: photo.mime_type || 'image/jpeg', url: localFile });\n      await deleteFile({ uri: localFile });\n    } catch (error) {\n      console.log(error);\n    }\n    setShareMenuOpen(false);\n  };\n\n  return (\n    <Animated.View\n      accessibilityLabel={accessibilityLabel}\n      onLayout={(event) => setHeight(event.nativeEvent.layout.height)}\n      pointerEvents={'box-none'}\n      style={styles.wrapper}\n    >\n      <ReanimatedSafeAreaView style={[container, footerStyle, { backgroundColor: white }]}>\n        {photo.type === 'video' ? (\n          videoControlElement ? (\n            videoControlElement({ duration, onPlayPause, paused, progress, videoRef })\n          ) : (\n            <ImageGalleryVideoControl\n              duration={duration}\n              onPlayPause={onPlayPause}\n              paused={paused}\n              progress={progress}\n              videoRef={videoRef}\n            />\n          )\n        ) : null}\n        <View style={[styles.innerContainer, innerContainer, { backgroundColor: white }]}>\n          {leftElement ? (\n            leftElement({ openGridView, photo, share, shareMenuOpen })\n          ) : (\n            <ShareButton share={share} ShareIcon={ShareIcon} shareMenuOpen={shareMenuOpen} />\n          )}\n          {centerElement ? (\n            centerElement({ openGridView, photo, share, shareMenuOpen })\n          ) : (\n            <View style={[styles.centerContainer, centerContainer]}>\n              <Text style={[styles.imageCountText, { color: black }, imageCountText]}>\n                {t('{{ index }} of {{ photoLength }}', {\n                  index: photoLength - selectedIndex,\n                  photoLength,\n                })}\n              </Text>\n            </View>\n          )}\n          {rightElement ? (\n            rightElement({ openGridView, photo, share, shareMenuOpen })\n          ) : (\n            <TouchableOpacity onPress={openGridView}>\n              <View style={[styles.rightContainer, rightContainer]}>\n                {GridIcon ? GridIcon : <GridIconDefault />}\n              </View>\n            </TouchableOpacity>\n          )}\n        </View>\n      </ReanimatedSafeAreaView>\n    </Animated.View>\n  );\n};\n\ntype ShareButtonProps = {\n  share: () => Promise<void>;\n  shareMenuOpen: boolean;\n  ShareIcon?: React.ReactElement;\n};\n\nconst ShareButton = ({ share, ShareIcon, shareMenuOpen }: ShareButtonProps) => {\n  const {\n    theme: {\n      colors: { black },\n      imageGallery: {\n        footer: { leftContainer },\n      },\n    },\n  } = useTheme();\n\n  if (shareImage === null) {\n    return null;\n  }\n\n  return (\n    <TouchableOpacity accessibilityLabel='Share Button' disabled={shareMenuOpen} onPress={share}>\n      <View style={[styles.leftContainer, leftContainer]}>\n        {ShareIcon ? ShareIcon : <ShareIconDefault pathFill={black} />}\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst areEqual = <StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics>(\n  prevProps: ImageGalleryFooterPropsWithContext<StreamChatGenerics>,\n  nextProps: ImageGalleryFooterPropsWithContext<StreamChatGenerics>,\n) => {\n  const {\n    duration: prevDuration,\n    paused: prevPaused,\n    progress: prevProgress,\n    selectedIndex: prevSelectedIndex,\n  } = prevProps;\n  const {\n    duration: nextDuration,\n    paused: nextPaused,\n    progress: nextProgress,\n    selectedIndex: nextSelectedIndex,\n  } = nextProps;\n\n  const isDurationEqual = prevDuration === nextDuration;\n  if (!isDurationEqual) return false;\n\n  const isPausedEqual = prevPaused === nextPaused;\n  if (!isPausedEqual) return false;\n\n  const isProgressEqual = prevProgress === nextProgress;\n  if (!isProgressEqual) return false;\n\n  const isSelectedIndexEqual = prevSelectedIndex === nextSelectedIndex;\n  if (!isSelectedIndexEqual) return false;\n\n  return true;\n};\n\nconst MemoizedImageGalleryFooter = React.memo(\n  ImageGalleryFooterWithContext,\n  areEqual,\n) as typeof ImageGalleryFooterWithContext;\n\nexport type ImageGalleryFooterProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = ImageGalleryFooterPropsWithContext<StreamChatGenerics>;\n\nexport const ImageGalleryFooter = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: ImageGalleryFooterProps<StreamChatGenerics>,\n) => <MemoizedImageGalleryFooter {...props} />;\n\nImageGalleryFooter.displayName = 'ImageGalleryFooter{imageGallery{footer}}';\n"],"mappings":"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"}