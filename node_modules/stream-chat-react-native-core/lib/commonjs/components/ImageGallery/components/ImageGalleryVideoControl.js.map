{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_dayjs","_ThemeContext","_icons","_ProgressControl","_this","_jsxFileName","styles","StyleSheet","create","durationTextStyle","fontWeight","roundedView","alignItems","borderRadius","display","elevation","height","justifyContent","width","videoContainer","backgroundColor","flexDirection","padding","ImageGalleryVideoControl","React","memo","props","duration","onPlayPause","paused","progress","videoRef","videoDuration","dayjs","format","progressValueInSeconds","progressDuration","_useTheme","useTheme","_useTheme$theme","theme","_useTheme$theme$color","colors","accent_blue","black","static_black","static_white","_useTheme$theme$image","imageGallery","videoControl","handlePlayPause","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_videoRef$current","wrap","_callee$","_context","prev","next","current","setPositionAsync","stop","apply","arguments","createElement","View","style","__self","__source","fileName","lineNumber","columnNumber","TouchableOpacity","accessibilityLabel","onPress","Play","pathFill","Pause","Text","color","ProgressControl","filledColor","testID","prevProps","nextProps","exports","displayName"],"sources":["ImageGalleryVideoControl.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nimport dayjs from 'dayjs';\n\nimport type { ImageGalleryFooterVideoControlProps } from './ImageGalleryFooter';\n\nimport { useTheme } from '../../../contexts/themeContext/ThemeContext';\n\nimport { Pause, Play } from '../../../icons';\nimport { ProgressControl } from '../../ProgressControl/ProgressControl';\n\nconst styles = StyleSheet.create({\n  durationTextStyle: {\n    fontWeight: 'bold',\n  },\n  roundedView: {\n    alignItems: 'center',\n    borderRadius: 50,\n    display: 'flex',\n    elevation: 2,\n    height: 36,\n    justifyContent: 'center',\n    width: 36,\n  },\n  videoContainer: {\n    alignItems: 'center',\n    backgroundColor: 'rgba(52, 52, 52, 0.1)',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 10,\n  },\n});\n\nexport const ImageGalleryVideoControl: React.FC<ImageGalleryFooterVideoControlProps> = React.memo(\n  (props) => {\n    const { duration, onPlayPause, paused, progress, videoRef } = props;\n\n    const videoDuration = duration\n      ? duration / 3600 >= 1\n        ? dayjs.duration(duration, 'second').format('HH:mm:ss')\n        : dayjs.duration(duration, 'second').format('mm:ss')\n      : null;\n\n    const progressValueInSeconds = progress * duration;\n\n    const progressDuration = progressValueInSeconds\n      ? progressValueInSeconds / 3600 >= 1\n        ? dayjs.duration(progressValueInSeconds, 'second').format('HH:mm:ss')\n        : dayjs.duration(progressValueInSeconds, 'second').format('mm:ss')\n      : null;\n\n    const {\n      theme: {\n        colors: { accent_blue, black, static_black, static_white },\n        imageGallery: {\n          videoControl: { durationTextStyle, roundedView, videoContainer },\n        },\n      },\n    } = useTheme();\n\n    const handlePlayPause = async () => {\n      if (progress === 1) {\n        // For expo CLI\n        if (videoRef.current?.setPositionAsync) {\n          await videoRef.current.setPositionAsync(0);\n        }\n      }\n      onPlayPause();\n    };\n\n    return (\n      <View style={[styles.videoContainer, videoContainer]}>\n        <TouchableOpacity accessibilityLabel='Play Pause Button' onPress={handlePlayPause}>\n          <View style={[styles.roundedView, roundedView, { backgroundColor: static_white }]}>\n            {paused ? (\n              <Play accessibilityLabel='Play Icon' height={24} pathFill={static_black} width={24} />\n            ) : (\n              <Pause\n                accessibilityLabel='Pause Icon'\n                height={24}\n                pathFill={static_black}\n                width={24}\n              />\n            )}\n          </View>\n        </TouchableOpacity>\n        <Text\n          accessibilityLabel='Progress Duration'\n          style={[styles.durationTextStyle, durationTextStyle, { color: black }]}\n        >\n          {progressDuration ? progressDuration : '00:00'}\n        </Text>\n        <ProgressControl\n          duration={duration}\n          filledColor={accent_blue}\n          onPlayPause={onPlayPause}\n          progress={progress}\n          testID={'progress-control'}\n          width={180}\n        />\n        <Text\n          accessibilityLabel='Video Duration'\n          style={[styles.durationTextStyle, durationTextStyle, { color: black }]}\n        >\n          {videoDuration ? videoDuration : '00:00'}\n        </Text>\n      </View>\n    );\n  },\n  (prevProps, nextProps) => {\n    if (\n      prevProps.duration === nextProps.duration &&\n      prevProps.paused === nextProps.paused &&\n      prevProps.progress === nextProps.progress\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n);\n\nImageGalleryVideoControl.displayName = 'ImageGalleryVideoControl{imageGallery{videoControl}}';\n"],"mappings":"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"}