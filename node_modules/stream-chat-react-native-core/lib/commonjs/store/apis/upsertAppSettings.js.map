{"version":3,"names":["_QuickSqliteClient","require","_createUpsertQuery","upsertAppSettings","_ref","appSettings","currentUserId","_ref$flush","flush","storableAppSettings","JSON","stringify","query","createUpsertQuery","userId","QuickSqliteClient","logger","executeSql","apply","exports"],"sources":["upsertAppSettings.ts"],"sourcesContent":["import type { AppSettingsAPIResponse } from 'stream-chat';\n\nimport { QuickSqliteClient } from '../QuickSqliteClient';\nimport { createUpsertQuery } from '../sqlite-utils/createUpsertQuery';\n\nexport const upsertAppSettings = ({\n  appSettings,\n  currentUserId,\n  flush = true,\n}: {\n  appSettings: AppSettingsAPIResponse;\n  currentUserId: string;\n  flush?: boolean;\n}) => {\n  const storableAppSettings = JSON.stringify(appSettings);\n  const query = createUpsertQuery('userSyncStatus', {\n    appSettings: storableAppSettings,\n    userId: currentUserId,\n  });\n\n  QuickSqliteClient.logger?.('info', 'upsertAppSettings', {\n    appSettings: storableAppSettings,\n    flush,\n    userId: currentUserId,\n  });\n\n  if (flush) {\n    QuickSqliteClient.executeSql.apply(null, query);\n  }\n};\n"],"mappings":";;;;AAEA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAD,OAAA;AAEO,IAAME,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAAC,IAAA,EAQxB;EAAA,IAPJC,WAAW,GAAAD,IAAA,CAAXC,WAAW;IACXC,aAAa,GAAAF,IAAA,CAAbE,aAAa;IAAAC,UAAA,GAAAH,IAAA,CACbI,KAAK;IAALA,KAAK,GAAAD,UAAA,cAAG,IAAI,GAAAA,UAAA;EAMZ,IAAME,mBAAmB,GAAGC,IAAI,CAACC,SAAS,CAACN,WAAW,CAAC;EACvD,IAAMO,KAAK,GAAG,IAAAC,oCAAiB,EAAC,gBAAgB,EAAE;IAChDR,WAAW,EAAEI,mBAAmB;IAChCK,MAAM,EAAER;EACV,CAAC,CAAC;EAEFS,oCAAiB,CAACC,MAAM,oBAAxBD,oCAAiB,CAACC,MAAM,CAAG,MAAM,EAAE,mBAAmB,EAAE;IACtDX,WAAW,EAAEI,mBAAmB;IAChCD,KAAK,EAALA,KAAK;IACLM,MAAM,EAAER;EACV,CAAC,CAAC;EAEF,IAAIE,KAAK,EAAE;IACTO,oCAAiB,CAACE,UAAU,CAACC,KAAK,CAAC,IAAI,EAAEN,KAAK,CAAC;EACjD;AACF,CAAC;AAACO,OAAA,CAAAhB,iBAAA,GAAAA,iBAAA"}